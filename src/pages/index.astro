---
import Hero from "../components/sections/Hero.astro";
import Services from "../components/sections/Services.astro";
import AboutUs from "../components/sections/AboutUs.astro";
import Features from "../components/sections/Features.astro";
import CTA from "../components/sections/CTA.astro";
import Brands from "../components/sections/Brands.astro";
import Default from "../layouts/Default.astro";

import { suid } from "../libs/utils";
import { getMaintenanceMode, setMaintenanceMode } from "./sessions";

let session_id = suid();
let inMaintenance = getMaintenanceMode(session_id);

if (!inMaintenance) {
	inMaintenance = 0;
	setMaintenanceMode(session_id, inMaintenance);
}
---

<Default
	title="Your budget buddy"
	inMaintenance={inMaintenance === 1}
	sessionId={session_id}
>
	<Hero />
	<Brands />
	<Services />
	<AboutUs />
	<Features />
	<CTA />
</Default>
